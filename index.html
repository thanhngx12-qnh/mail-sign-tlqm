<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>T·∫°o Ch·ªØ K√Ω Email - Ph√∫ Anh Logistics V2.0</title>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary-color: #1a73e8;
            --primary-hover: #155db5;
            --bg-color: #f0f4f8;
            --text-color: #333;
            --border-color: #e1e5e9;
            --card-bg: #f8fbfe;
            --card-border: #d0e2fa;
        }

        body { font-family: 'Roboto', sans-serif; line-height: 1.6; color: var(--text-color); background-color: var(--bg-color); margin: 0; padding: 20px; }
        h1 { color: var(--primary-color); text-align: center; margin-bottom: 30px; font-weight: 700; }
        .main-container { max-width: 1200px; margin: 0 auto; background-color: #fff; padding: 30px; border-radius: 16px; box-shadow: 0 10px 25px rgba(0,0,0,0.05); }
        .content-wrapper { display: flex; gap: 40px; align-items: flex-start; }
        .column-left, .column-right { flex: 1; }
        
        .form-section-title { font-size: 18px; font-weight: 600; margin-bottom: 15px; margin-top: 25px; color: #555; }
        .input-card { background-color: var(--card-bg); padding: 20px; border-radius: 12px; border: 1px solid var(--card-border); margin-bottom: 20px; }
        .form-group { margin-bottom: 20px; }
        .input-card .form-group:last-child { margin-bottom: 0; }
        .input-card label { display: block; margin-bottom: 8px; font-weight: 500; color: var(--primary-color); }
        .helper-text { font-size: 13px; color: #666; margin-top: -4px; margin-bottom: 8px; }

        input[type="text"], input[type="email"], input[type="tel"], select {
            width: 100%; padding: 12px 15px; border: 2px solid #e1e5e9; border-radius: 8px;
            box-sizing: border-box; font-family: inherit; font-size: 15px; transition: all 0.3s ease; background-color: #fff;
        }
        input:focus, select:focus { border-color: var(--primary-color); outline: none; box-shadow: 0 0 0 3px rgba(26,115,232,0.1); }

        /* Style cho checkbox WeChat */
        .checkbox-wrapper { display: flex; align-items: center; gap: 10px; margin-bottom: 10px; cursor: pointer; }
        .checkbox-wrapper input { width: auto; margin: 0; cursor: pointer; transform: scale(1.2); }
        .checkbox-wrapper span { font-weight: 500; color: #333; }

        /* Preview Column */
        .column-right { position: sticky; top: 20px; }
        h2.preview-title { border-bottom: 2px solid var(--primary-color); padding-bottom: 10px; margin-top: 0; color: var(--text-color); font-size: 20px; }
        .signature-preview-container { padding: 25px; border-radius: 12px; background-color: #fff; margin-top: 20px; border: 1px solid #eee; }
        .placeholder-text { color: #bbb !important; font-style: italic; }
        
        .copy-button {
            background-color: var(--primary-color); color: white; padding: 15px 30px; border: none; border-radius: 8px;
            cursor: pointer; font-size: 18px; font-weight: 700; display: block; width: 100%; margin-top: 25px;
            transition: background-color 0.2s, transform 0.1s; box-shadow: 0 4px 6px rgba(26,115,232,0.2);
        }
        .copy-button:hover { background-color: var(--primary-hover); transform: translateY(-1px); }
        .copy-button:active { transform: translateY(1px); }
        .copy-help-text { text-align: center; margin-top: 15px; color: #777; font-size: 14px; }

        @media (max-width: 900px) {
            .content-wrapper { flex-direction: column; gap: 30px; }
            .main-container { padding: 20px; }
            .column-right { position: static; }
        }
    </style>
</head>
<body>

    <div class="main-container">
        <h1>C√¥ng c·ª• T·∫°o Ch·ªØ K√Ω - Ph√∫ Anh Logistics (V2.0)</h1>

        <div class="content-wrapper">
            
            <div class="column-left">
                
                <!-- PH·∫¶N C·∫§U H√åNH NG√îN NG·ªÆ (M·ªöI) -->
                <div class="form-section-title" style="margin-top: 0;">C·∫•u h√¨nh Ch·ªØ k√Ω</div>
                <div class="input-card">
                    <div class="form-group">
                        <label for="languageSelect">Ng√¥n ng·ªØ hi·ªÉn th·ªã (Labels):</label>
                        <select id="languageSelect" onchange="updateSignature()">
                            <option value="vi">Ti·∫øng Vi·ªát (M·∫∑c ƒë·ªãnh)</option>
                            <option value="en">Ti·∫øng Anh (English)</option>
                            <option value="cn">Ti·∫øng Trung (‰∏≠Êñá)</option>
                            <option value="vi_en">Song ng·ªØ: Vi·ªát / Anh</option>
                            <option value="vi_cn" selected>Song ng·ªØ: Vi·ªát / Trung (Khuy√™n d√πng)</option>
                        </select>
                    </div>
                </div>

                <div class="form-section-title">Th√¥ng tin c√° nh√¢n</div>
                <div class="input-card">
                    <div class="form-group">
                        <label for="fullName">H·ªç v√† T√™n:</label>
                        <input type="text" id="fullName" placeholder="Nh·∫≠p h·ªç v√† t√™n..." oninput="updateSignature()">
                    </div>
                    <div class="form-group">
                        <label for="jobTitle">Ch·ª©c v·ª•:</label>
                        <input type="text" id="jobTitle" placeholder="Nh·∫≠p ch·ª©c v·ª•..." oninput="updateSignature()">
                    </div>
                </div>
                
                <div class="form-section-title">Li√™n h·ªá</div>
                <div class="input-card">
                    <div class="form-group">
                        <label for="phoneNumberInput">S·ªë ƒëi·ªán tho·∫°i / Zalo:</label>
                        <div class="helper-text">Nh·∫≠p s·ªë th∆∞·ªùng, h·ªá th·ªëng t·ª± chuy·ªÉn th√†nh +84.</div>
                        <input type="tel" id="phoneNumberInput" placeholder="Nh·∫≠p s·ªë ƒëi·ªán tho·∫°i..." oninput="updateSignature()">
                    </div>

                    <!-- PH·∫¶N WECHAT (M·ªöI) -->
                    <div class="form-group">
                        <label class="checkbox-wrapper">
                            <input type="checkbox" id="wechatToggle" onchange="toggleWechatInput()">
                            <span>Hi·ªÉn th·ªã th√¥ng tin WeChat?</span>
                        </label>
                        <div id="wechatInputGroup" style="display: none; margin-top: 10px;">
                            <label for="wechatId" style="font-size: 14px;">WeChat ID:</label>
                            <input type="text" id="wechatId" placeholder="Nh·∫≠p ID WeChat..." oninput="updateSignature()">
                        </div>
                    </div>
                </div>
                
                <div class="form-section-title">Email</div>
                <div class="input-card">
                    <div class="form-group">
                        <label for="emailPrefix">Email Alias (Ph·∫ßn tr∆∞·ªõc @):</label>
                        <div class="helper-text">Ch·ªâ c·∫ßn nh·∫≠p t√™n, t·ª± ƒë·ªông th√™m @talunglogistics.com</div>
                        <input type="text" id="emailPrefix" placeholder="V√≠ d·ª•: sales, support..." oninput="updateSignature()">
                    </div>
                </div>

            </div>

            <div class="column-right">
                <h2 class="preview-title">Xem tr∆∞·ªõc k·∫øt qu·∫£</h2>
                <div class="signature-preview-container" id="signature-container">
                    
                    <table cellpadding="0" cellspacing="0" border="0" style="font-family: 'Times New Roman', Times, serif; font-size: 13px; color: #333333; line-height: 1.5; width: 100%;">
                      <tr>
                        <td colspan="2">
                          <div style="font-size: 14px; margin-bottom: 8px;">
                            <strong style="font-family: 'Times New Roman', Times, serif; font-size: 14px; color: #333333;">Thanks and best regards!</strong>
                          </div>
                          <div style="border-top: 1.5px solid #eeeeee; margin: 10px 0 20px 0;"></div>
                        </td>
                      </tr>
                      <tr>
                        <!-- LOGO -->
                        <td valign="top" style="padding-right: 16px; width: 140px;">
                          <a href="https://www.talunglogistics.com" target="_blank">
                              <!-- B·∫°n nh·ªõ thay ƒë∆∞·ªùng d·∫´n ·∫£nh Logo th·∫≠t v√†o ƒë√¢y -->
                            <img src="https://via.placeholder.com/140x140.png?text=Logo+Phu+Anh" alt="Logo C√¥ng ty Ph√∫ Anh" width="140" style="display: block; border-radius: 8px;">
                          </a>
                        </td>

                        <!-- INFO -->
                        <td valign="top" style="border-left: 2px solid #1a73e8; padding-left: 16px;">
                          <div style="margin-bottom: 8px;">
                            <strong style="font-size: 16px; color: #1a73e8; letter-spacing: 0.3px; font-family: 'Times New Roman', Times, serif;"><span id="sig-fullName" class="placeholder-text">{H·ªç t√™n}</span></strong>
                          </div>
                          
                          <div style="color: #555555; margin-bottom: 2px; font-family: 'Times New Roman', Times, serif;">
                            <span id="lbl-job">Ch·ª©c v·ª•:</span> <strong style="color: #222222;"><span id="sig-jobTitle" class="placeholder-text">{Ch·ª©c v·ª•}</span></strong>
                          </div>
                          
                          <div style="color: #555555; margin-bottom: 2px; font-family: 'Times New Roman', Times, serif;">
                            <span id="lbl-company">C√¥ng ty:</span> <strong style="color: #222222;">C√¥ng ty TNHH Th∆∞∆°ng m·∫°i V·∫≠n t·∫£i Ph√∫ Anh</strong>
                          </div>
                          
                          <div style="color: #555555; margin-bottom: 2px; font-family: 'Times New Roman', Times, serif;">
                            <span id="lbl-address">ƒê·ªãa ch·ªâ:</span> <span style="color: #222222;">C·ª≠a kh·∫©u Qu·ªëc t·∫ø T√† L√πng, x√£ Ph·ª•c H√≤a, t·ªânh Cao B·∫±ng</span>
                          </div>
                          
                          <table cellpadding="0" cellspacing="0" style="font-size: 13px; font-family: 'Times New Roman', Times, serif; margin-top: 5px;">
                            <!-- ƒêi·ªán tho·∫°i -->
                            <tr>
                              <td style="padding-right: 8px; white-space: nowrap; width: 20px;">üìû</td>
                              <td style="padding-right: 5px;"><strong id="lbl-tel">ƒêi·ªán tho·∫°i:</strong></td>
                              <td><a href="tel:" id="sig-phoneLink" style="color: #1a73e8; text-decoration: none;"> <span id="sig-phoneNumberFormatted" class="placeholder-text">{S·ªë ƒëi·ªán tho·∫°i}</span></a></td>
                            </tr>
                            
                            <!-- Email -->
                            <tr>
                              <td style="padding-right: 8px;">‚úâÔ∏è</td>
                              <td style="padding-right: 5px;"><strong>Email:</strong></td>
                              <td><a href="mailto:" id="sig-emailRealLink" style="color: #1a73e8; text-decoration: none;"> <span id="sig-emailDisplayName" class="placeholder-text">{Email}</span></a></td>
                            </tr>

                            <!-- WeChat (·∫®n m·∫∑c ƒë·ªãnh) -->
                            <tr id="sig-wechatRow" style="display: none;">
                                <td style="padding-right: 8px;">üí¨</td>
                                <td style="padding-right: 5px;"><strong>WeChat:</strong></td>
                                <td><span id="sig-wechatDisplay" style="color: #333;"></span></td>
                            </tr>

                            <!-- Website -->
                            <tr>
                              <td style="padding-right: 8px;">üåê</td>
                              <td style="padding-right: 5px;"><strong id="lbl-web">Website:</strong></td>
                              <td><a href="https://www.talunglogistics.com" target="_blank" style="color: #1a73e8; text-decoration: none;">www.talunglogistics.com</a></td>
                            </tr>
                          </table>

                          <div style="margin-top: 16px; font-size: 10px; color: #999999; line-height: 1.4; font-family: 'Times New Roman', Times, serif;">
                            <em id="lbl-disclaimer">H√£y c√¢n nh·∫Øc m√¥i tr∆∞·ªùng tr∆∞·ªõc khi in email n√†y.</em>
                          </div>
                        </td>
                      </tr>
                    </table>
                </div>

                <button class="copy-button" onclick="copySignature()">SAO CH√âP CH·ªÆ K√ù NGAY</button>
                <p class="copy-help-text">D√°n (Ctrl+V) v√†o c√†i ƒë·∫∑t ch·ªØ k√Ω Gmail/Outlook sau khi sao ch√©p.</p>
            </div>
        </div>
    </div>

    <script>
        // 1. DATA NG√îN NG·ªÆ (T·ª™ ƒêI·ªÇN)
        const langData = {
            vi: {
                job: "Ch·ª©c v·ª•:",
                company: "C√¥ng ty:",
                address: "ƒê·ªãa ch·ªâ:",
                tel: "ƒêi·ªán tho·∫°i:",
                web: "Website:",
                disclaimer: "H√£y c√¢n nh·∫Øc m√¥i tr∆∞·ªùng tr∆∞·ªõc khi in email n√†y."
            },
            en: {
                job: "Position:",
                company: "Company:",
                address: "Address:",
                tel: "Tel:",
                web: "Website:",
                disclaimer: "Please consider the environment before printing this email."
            },
            cn: {
                job: "ËÅåÂä°:",
                company: "ÂÖ¨Âè∏:",
                address: "Âú∞ÂùÄ:",
                tel: "ÁîµËØù:",
                web: "ÁΩëÂùÄ:",
                disclaimer: "ÊâìÂç∞Ê≠§ÈÇÆ‰ª∂ÂâçËØ∑ËÄÉËôëÁéØÂ¢É„ÄÇ"
            },
            vi_en: {
                job: "Ch·ª©c v·ª• / Position:",
                company: "C√¥ng ty / Company:",
                address: "ƒê·ªãa ch·ªâ / Addr:",
                tel: "ƒêi·ªán tho·∫°i / Tel:",
                web: "Website:",
                disclaimer: "H√£y c√¢n nh·∫Øc m√¥i tr∆∞·ªùng tr∆∞·ªõc khi in email n√†y / Please consider the environment before printing."
            },
            vi_cn: {
                job: "Ch·ª©c v·ª• / ËÅåÂä°:",
                company: "C√¥ng ty / ÂÖ¨Âè∏:",
                address: "ƒê·ªãa ch·ªâ / Âú∞ÂùÄ:",
                tel: "ƒêi·ªán tho·∫°i / ÁîµËØù:",
                web: "Website / ÁΩëÂùÄ:",
                disclaimer: "H√£y c√¢n nh·∫Øc m√¥i tr∆∞·ªùng tr∆∞·ªõc khi in email n√†y / ÊâìÂç∞Ê≠§ÈÇÆ‰ª∂ÂâçËØ∑ËÄÉËôëÁéØÂ¢É„ÄÇ"
            }
        };

        // H√†m b·∫≠t/t·∫Øt √¥ nh·∫≠p WeChat
        function toggleWechatInput() {
            const isChecked = document.getElementById('wechatToggle').checked;
            const inputGroup = document.getElementById('wechatInputGroup');
            inputGroup.style.display = isChecked ? 'block' : 'none';
            updateSignature(); // C·∫≠p nh·∫≠t l·∫°i ch·ªØ k√Ω ngay khi toggle
        }

        // H√†m ƒë·ªãnh d·∫°ng s·ªë ƒëi·ªán tho·∫°i
        function formatPhoneNumberTo84(phoneNumberString) {
            var cleaned = ('' + phoneNumberString).replace(/\D/g, '');
            if (/^0\d{9}$/.test(cleaned)) {
                return cleaned.replace(/^0(\d{3})(\d{3})(\d{3})$/, '+84 $1 $2 $3');
            }
            if (/^84\d{9}$/.test(cleaned)) {
                 return cleaned.replace(/^84(\d{3})(\d{3})(\d{3})$/, '+84 $1 $2 $3');
            }
            return phoneNumberString;
        }

        // H√ÄM CH√çNH: C·∫¨P NH·∫¨T CH·ªÆ K√ù
        function updateSignature() {
            // -- 1. C·∫¨P NH·∫¨T LABEL NG√îN NG·ªÆ --
            const currentLang = document.getElementById('languageSelect').value;
            const labels = langData[currentLang];
            
            document.getElementById('lbl-job').textContent = labels.job;
            document.getElementById('lbl-company').textContent = labels.company;
            document.getElementById('lbl-address').textContent = labels.address;
            document.getElementById('lbl-tel').textContent = labels.tel;
            document.getElementById('lbl-web').textContent = labels.web;
            document.getElementById('lbl-disclaimer').textContent = labels.disclaimer;

            // -- 2. L·∫§Y GI√Å TR·ªä INPUT --
            const fullNameInput = document.getElementById('fullName').value.trim();
            const jobTitleInput = document.getElementById('jobTitle').value.trim();
            const rawPhoneInput = document.getElementById('phoneNumberInput').value.trim();
            const emailPrefixInput = document.getElementById('emailPrefix').value.trim();
            const wechatIdInput = document.getElementById('wechatId').value.trim();
            const isWechatEnabled = document.getElementById('wechatToggle').checked;
            
            const domain = '@talunglogistics.com';

            // -- 3. ƒêI·ªÄN TH√îNG TIN --
            // H·ªç t√™n
            const fullNameSpan = document.getElementById('sig-fullName');
            if (fullNameInput !== '') {
                fullNameSpan.textContent = fullNameInput;
                fullNameSpan.classList.remove('placeholder-text');
            } else {
                fullNameSpan.textContent = '{H·ªç t√™n}';
                fullNameSpan.classList.add('placeholder-text');
            }

            // Ch·ª©c v·ª•
            const jobTitleSpan = document.getElementById('sig-jobTitle');
            if (jobTitleInput !== '') {
                jobTitleSpan.textContent = jobTitleInput;
                jobTitleSpan.classList.remove('placeholder-text');
            } else {
                jobTitleSpan.textContent = '{Ch·ª©c v·ª•}';
                jobTitleSpan.classList.add('placeholder-text');
            }
            
            // S·ªë ƒëi·ªán tho·∫°i
            const phoneSpan = document.getElementById('sig-phoneNumberFormatted');
            const phoneLinkBtn = document.getElementById('sig-phoneLink');
            if (rawPhoneInput !== '') {
                phoneSpan.textContent = " " + formatPhoneNumberTo84(rawPhoneInput);
                phoneSpan.classList.remove('placeholder-text');
                let cleanPhone = rawPhoneInput.replace(/\D/g, '');
                // Logic x·ª≠ l√Ω link tel c∆° b·∫£n
                if (cleanPhone.startsWith('0')) cleanPhone = '+84' + cleanPhone.substring(1);
                phoneLinkBtn.href = "tel:" + cleanPhone;
            } else {
                phoneSpan.textContent = '{S·ªë ƒëi·ªán tho·∫°i}';
                phoneSpan.classList.add('placeholder-text');
                phoneLinkBtn.href = "tel:";
            }
            
            // Email
            const emailDisplayNameSpan = document.getElementById('sig-emailDisplayName');
            const emailRealLinkBtn = document.getElementById('sig-emailRealLink');
            if (emailPrefixInput !== '') {
                const fullEmail = emailPrefixInput + domain;
                emailDisplayNameSpan.textContent = " " + fullEmail;
                emailDisplayNameSpan.classList.remove('placeholder-text');
                emailRealLinkBtn.href = "mailto:" + fullEmail;
            } else {
                emailDisplayNameSpan.textContent = '{Email}';
                emailDisplayNameSpan.classList.add('placeholder-text');
                emailRealLinkBtn.href = "mailto:";
            }

            // -- 4. X·ª¨ L√ù WECHAT --
            const wechatRow = document.getElementById('sig-wechatRow');
            const wechatDisplay = document.getElementById('sig-wechatDisplay');

            if (isWechatEnabled && wechatIdInput !== '') {
                wechatRow.style.display = 'table-row'; // Hi·ªÉn th·ªã d√≤ng
                wechatDisplay.textContent = " " + wechatIdInput;
            } else {
                wechatRow.style.display = 'none'; // ·∫®n d√≤ng
            }
        }

        function copySignature() {
            const placeholders = document.querySelectorAll('.placeholder-text');
            placeholders.forEach(el => el.classList.remove('placeholder-text'));

            const signatureContainer = document.getElementById('signature-container');
            const range = document.createRange();
            range.selectNode(signatureContainer);
            window.getSelection().removeAllRanges();
            window.getSelection().addRange(range);

            try {
                const successful = document.execCommand('copy');
                const msg = successful ? '‚úÖ ƒê√£ sao ch√©p! H√£y d√°n v√†o email c·ªßa b·∫°n.' : '‚ùå L·ªói sao ch√©p.';
                alert(msg);
            } catch (err) {
                alert('‚ùå L·ªói tr√¨nh duy·ªát.');
            }
            window.getSelection().removeAllRanges();
            updateSignature(); 
        }
        
        // Kh·ªüi ch·∫°y l·∫ßn ƒë·∫ßu
        updateSignature();
    </script>
</body>
</html>